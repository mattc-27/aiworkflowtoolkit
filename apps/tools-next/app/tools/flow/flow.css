/* ==== Layout (no utility framework) ==== */

.flow-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
}

@media (min-width: 1080px) {
    .flow-layout {
        grid-template-columns: 280px minmax(0, 1fr);
    }
}

.flow-sidebar {
    position: static;
}

@media (min-width: 1080px) {
    .flow-sidebar {
        position: sticky;
        top: 24px;
        height: fit-content;
    }
}

.flow-content {
    min-width: 0;
}

/* ==== Panel / Headings ==== */

.flow-panel {
    background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(255, 255, 255, .02));
    border: 1px solid rgba(255, 255, 255, .10);
    border-radius: 16px;
    padding: 14px;
}

.flow-head {
    font-weight: 700;
    letter-spacing: .2px;
    margin: 2px 0 8px;
    color: #fff;
}

/* ==== Stepper ==== */

.flow-list {
    counter-reset: stepnum;
    margin: 0;
    padding: 0;
    border-left: 2px solid rgba(255, 255, 255, .08);
}

.flow-step {
    position: relative;
    list-style: none;
    padding: 12px 12px 12px 34px;
    margin-left: 14px;
    border-radius: 12px;
    transition: background .18s ease, color .18s ease, transform .18s ease;
    cursor: pointer;
}

.flow-step:hover {
    background: rgba(255, 255, 255, .04);
}

.flow-step.is-active {
    background: linear-gradient(180deg, rgba(124, 58, 237, .18), rgba(124, 58, 237, .10));
    box-shadow: 0 10px 28px -16px rgba(124, 58, 237, .45);
}

.flow-step__num {
    position: absolute;
    left: -28px;
    top: 14px;
    width: 22px;
    height: 22px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    font-size: 12px;
    font-weight: 700;
    color: #e9ddff;
    background: radial-gradient(100% 100% at 50% 0%, rgba(172, 134, 255, .9), rgba(132, 94, 247, .75));
    border: 1px solid rgba(255, 255, 255, .22);
    box-shadow: 0 6px 20px -10px rgba(124, 58, 237, .7);
}

.flow-step__title {
    font-weight: 800;
    letter-spacing: .2px;
    color: rgba(255, 255, 255, .95);
}

.flow-step__subtitle {
    font-size: 12px;
    color: rgba(237, 242, 247, .72);
    margin-top: 2px;
}

.badge-optional {
    margin-left: 8px;
    padding: 2px 8px;
    border-radius: 999px;
    font-size: 10.5px;
    border: 1px solid rgba(255, 255, 255, .18);
    background: rgba(255, 255, 255, .06);
    color: rgba(237, 242, 247, .9);
}

/* ==== Bottom controls ==== */

.flow-controls {
    margin-top: 10px;
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
}

/* Progress dots */
.flow-dots {
    display: flex;
    gap: 6px;
    align-items: center;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .20);
}

.dot-active {
    background: #8f6bff;
}

.dot-done {
    background: #22c55e;
}

/* Action buttons group */
.flow-actions {
    display: flex;
    gap: 10px;
}

/* ==== Buttons (extend shared .btn from tools/style.css) ==== */

.ic {
    width: 16px;
    height: 16px;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    border-radius: 12px;
    padding: 10px 14px;
    font-weight: 700;
    transition: transform .08s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease;
    border: 1px solid transparent;
}

.btn:active {
    transform: translateY(1px);
}

.btn-lg {
    padding: 12px 16px;
}

.btn-primary {
    background: linear-gradient(180deg, rgba(124, 58, 237, 1), rgba(124, 58, 237, .88));
    border-color: rgba(124, 58, 237, .75);
    color: #fff;
    box-shadow: 0 14px 40px -18px rgba(124, 58, 237, .9);
}

.btn-primary:hover {
    filter: brightness(1.06);
    box-shadow: 0 18px 46px -18px rgba(124, 58, 237, 1);
}

.btn-ghost {
    background: transparent;
    border-color: rgba(255, 255, 255, .18);
    border-style: dashed;
    color: rgba(237, 242, 247, .88);
}

.btn-ghost:hover {
    background: rgba(255, 255, 255, .04);
    border-style: solid;
}

/* ==== Minor field polish when tools render inside flow ==== */

.tool-header .h1 {
    letter-spacing: .2px;
    font-weight: 800;
}

.label {
    font-weight: 700;
    letter-spacing: .2px;
}


/* ===== Input & Textarea readability tweaks ===== */

/* General textareas (used in PromptCompressTool, TokenCostTool, PromptToJsonSchemaTool) */
.textarea-xl,
input,
select {
    background: rgba(255, 255, 255, 0.06);
    /* lighter gray against dark page */
    border: 1px solid rgba(255, 255, 255, 0.18);
    color: #f8f9fa;
    /* near-white font color for contrast */
    font-size: 0.95rem;
    line-height: 1.4;
}

.textarea-xl::placeholder {
    color: rgba(255, 255, 255, 0.45);
}

/* Specific to JSON Schema left column textarea */
.json2s-textarea {
    background: rgba(255, 255, 255, 0.08);
    /* slightly lighter panel */
    border-color: rgba(255, 255, 255, 0.22);
    color: #f1f3f5;
}

/* Adjust font for code-like input if desired */
.json2s-textarea,
.json2s-pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}